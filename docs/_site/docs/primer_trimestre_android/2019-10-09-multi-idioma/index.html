<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>Compatibilidad entre distintos idiomas - PMD_19-20</title><link rel="shortcut icon" href="http://localhost:4000/PMD_19-20/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="http://localhost:4000/PMD_19-20/assets/css/just-the-docs.css"> <script type="text/javascript" src="http://localhost:4000/PMD_19-20/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/PMD_19-20/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Compatibilidad entre distintos idiomas | PMD_19-20</title><meta name="generator" content="Jekyll v3.8.6" /><meta property="og:title" content="Compatibilidad entre distintos idiomas" /><meta property="og:locale" content="en_US" /><meta name="description" content="Programación multimedia y dispositivos móviles" /><meta property="og:description" content="Programación multimedia y dispositivos móviles" /><link rel="canonical" href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-09-multi-idioma/" /><meta property="og:url" content="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-09-multi-idioma/" /><meta property="og:site_name" content="PMD_19-20" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-10-09T14:30:00+02:00" /> <script type="application/ld+json"> {"@type":"BlogPosting","headline":"Compatibilidad entre distintos idiomas","dateModified":"2019-10-09T14:30:00+02:00","url":"http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-09-multi-idioma/","datePublished":"2019-10-09T14:30:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-09-multi-idioma/"},"description":"Programación multimedia y dispositivos móviles","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/PMD_19-20" class="site-title lh-tight"> PMD_19-20 </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="http://localhost:4000/PMD_19-20/docs/segundo_trimestre_android/2019-12-01-servicios-hilos/" class="navigation-list-link">Servicios e hilos</a><li class="navigation-list-item"><a href="http://localhost:4000/PMD_19-20/docs/segundo_trimestre_android/2019-12-03-asynctask/" class="navigation-list-link">AsyncTask</a><li class="navigation-list-item"><a href="http://localhost:4000/PMD_19-20/docs/segundo_trimestre_android/2019-12-05-notificaciones/" class="navigation-list-link">Notificaciones</a><li class="navigation-list-item"><a href="http://localhost:4000/PMD_19-20/docs/segundo_trimestre_android/2019-12-12-ficheros/" class="navigation-list-link">Lectura fichero directorio raw</a><li class="navigation-list-item"><a href="http://localhost:4000/PMD_19-20/docs/segundo_trimestre_android/2019-12-17-Alarmas/" class="navigation-list-link">Alarmas</a><li class="navigation-list-item active"><a href="http://localhost:4000/PMD_19-20/" class="navigation-list-link"></a><li class="navigation-list-item active"><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android" class="navigation-list-link">Primer trimestre Android</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-09-25-primera-aplicacion/" class="navigation-list-link">Primera aplicación</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-09-26-metodo-findviewbyid/" class="navigation-list-link">Método FindViewByID</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-02-manifest/" class="navigation-list-link">Fichero Manifest</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-04-ejemplo_radio_check/" class="navigation-list-link">Ejemplo RadioButton y Checkbox</a><li class="navigation-list-item active"><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-09-multi-idioma/" class="navigation-list-link active">Compatibilidad entre distintos idiomas</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-09-switch-imageview/" class="navigation-list-link">Ejemplo Switch e ImageView</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-16-layout/" class="navigation-list-link">Layouts</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-17-recorrido-contenedor/" class="navigation-list-link">Recorrido de un TableLayout</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-18-ejemplo-fragment/" class="navigation-list-link">Ejemplo sencillo de Fragment</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-21-dialogos/" class="navigation-list-link">Diálogos</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-10-28-recyclerView/" class="navigation-list-link">RecyclerView</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-11-06-actionbar/" class="navigation-list-link">Action Bar</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-11-11-intents/" class="navigation-list-link">Intents y filtros de intents</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-11-13-permisos/" class="navigation-list-link">Permisos</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-11-18-broadcastreceiver/" class="navigation-list-link">Broadcast Receiver y SMS</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-11-19-content-provider/" class="navigation-list-link">Content providers y acceso a los contactos</a><li class="navigation-list-item "><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android/2019-11-24-sqlite/" class="navigation-list-link">SQLite</a></ul><li class="navigation-list-item"><a href="http://localhost:4000/PMD_19-20/docs/segundo_trimestre_android" class="navigation-list-link">Segundo trimestre Android</a><ul class="navigation-list-child-list "></ul></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search PMD_19-20" aria-label="Search PMD_19-20" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://github.com/Manuel-Ag/PMD_19-20">GitHub</a></ul></div><div class="page"><nav class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/PMD_19-20/docs/primer_trimestre_android">Primer trimestre Android</a><li class="breadcrumb-nav-list-item"><span>Compatibilidad entre distintos idiomas</span></ol></nav><div id="main-content" class="page-content" role="main"><h1 id="compatibilidad-entre-distintos-idiomas"> <a href="#compatibilidad-entre-distintos-idiomas" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Compatibilidad entre distintos idiomas</h1><p><strong>Ejemplo de clase</strong>: <a href="https://github.com/Manuel-Ag/PMD_19-20/tree/master/Directorio_values">https://github.com/Manuel-Ag/PMD_19-20/tree/master/Directorio_values</a></p><p>Es hora de quitar los <em>warnings</em> que teníamos hasta ahora en el diseñador:</p><p style="text-align: center;"><img src="/PMD_19-20/assets/multi_lenguaje/warnings.jpg" alt="Android" /></p><p>Para ello, únicamente deberemos definir en el fichero <em>strings.xml</em> de la carpeta <em>values</em> las cadenas que utilizará nuestro programa, por ejemplo el texto de nuestros dos botones:</p><figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;resources&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"app_name"</span><span class="nt">&gt;</span>Name application<span class="nt">&lt;/string&gt;</span>

    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"btn_aceptar"</span><span class="nt">&gt;</span>Accept<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"btn_cancelar"</span><span class="nt">&gt;</span>Cancel<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;/resources&gt;</span></code></pre></figure><p>A continuación, en las vistas que muestren texto, se deberá realizar una referencia al fichero <em>strings.xml</em> utilizando como primer caracter <em>@</em>:</p><p style="text-align: center;"><img src="/PMD_19-20/assets/multi_lenguaje/captura1.jpg" alt="Android" /></p><p>Los <em>warnings</em> relativos al texto <em>hardcoded</em> deberían de desaparecer.</p><p>Ya tenemos nuestra aplicación casi preparada para soportar varios idiomas. Únicamente falta un paso; crear otro fichero <em>strings.xml</em> para cualquier otro idioma soportado por nuestra aplicación. Simplemente deberemos hacer click derecho en la carpeta <em>res</em> y a continuación <em>New&gt;Android resource file</em>. Nos mostrará la siguiente ventana:</p><p style="text-align: center;"><img src="/PMD_19-20/assets/multi_lenguaje/Captura2.jpg" alt="Android" /></p><p>Observa que podemos añadir diferentes restricciones. Nos centraremos en las de idioma. Selecciona <em>Locale</em> y pulsa la flecha doble para añadir, a continuación seleccionamos el idioma español de cualquier región (observa como el <em>Directory name</em> va variando según añadimos parámetros). Al finalizar se mostrará una estructura como la siguiente:</p><p style="text-align: center;"><img src="/PMD_19-20/assets/multi_lenguaje/captura3.jpg" alt="Android" /></p><p>La clave estará en replicar las cadenas definidas en el fichero <em>strings.xml</em> del inicio en el fichero <em>strings.xml</em> del idioma seleccionado, traduciendo el texto pero manteniendo el nombre de la cadena a la que hacemos referencia en el botón.</p><figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;resources&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"app_name"</span><span class="nt">&gt;</span>Nombre aplicación<span class="nt">&lt;/string&gt;</span>

    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"btn_aceptar"</span><span class="nt">&gt;</span>Aceptar<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"btn_cancelar"</span><span class="nt">&gt;</span>Cancelar<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;/resources&gt;</span></code></pre></figure><p>De esta forma Android automáticamente seleccionará el fichero con los recursos correspondientes al idioma seleccionado, en este caso el español. Cuando cambiemos el idioma del sistema operativo a español, la aplicación cambiará también de idioma si tiene recursos para ese idioma específico. Es una buena práctica de programación que siempre definiamos las cadenas en un fichero <em>.xml</em> aunque solo tengamos compatibilidad con un idioma.</p><p>Continuando con el ejemplo de clase, podrás observar que también se cambia la imagen del ImageView. Esto es porque también podremos crear una carpeta de imágenes según idioma, región, características del dispositivo, etc., al igual que con el fichero <em>strings.xml</em>. En este caso, comprueba la estructura real del proyecto, seleccionando la vista <em>Project</em> (arriba izquierda):</p><p style="text-align: center;"><img src="/PMD_19-20/assets/multi_lenguaje/captura4.jpg" alt="Android" /></p><p>Al igual que para la carpeta <em>values</em>, para la carpeta <em>drawable</em> hemos creado su versión para español. Para crear una carpeta simplemente haz click derecho en la carpeta <em>res</em> y a continuación en <em>New&gt;Android Resource Directory</em>:</p><p style="text-align: center;"><img src="/PMD_19-20/assets/multi_lenguaje/captura5.jpg" alt="Android" /></p><p>Los dos recursos deben de tener el mismo nombre, ya que será el que se utilizar para referenciarlo desde el atributo de la vista (el formato puede ser distinto).</p><p>Con todo esto ya sabemos como hacer una aplicación que muestre unos textos e imágenes dependiendo del idioma seleccionado en el sistema operativo Android.</p><p>Ejemplo de youtube: <a href="https://www.youtube.com/watch?v=ffjLi4Cwg1k">https://www.youtube.com/watch?v=ffjLi4Cwg1k</a></p><hr><footer role="contentinfo"><p class="text-small text-grey-dk-000 mb-0"></p></footer></div></div></div></div>
